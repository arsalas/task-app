import{s as k,u as q,r as L,c as p,a as N,b as V,d as E,w as O,o as f,e as v,f as s,g as D,v as R,h as a,l as j,p as C,i as $,j as w,k as B,m as T,t as b,n as h,F as x,q as F,_ as S}from"./file_index.285f0698.js";import{_ as I}from"./file__plugin-vue_export-helper.e718e6fb.js";import{u as M}from"./file_useAuth.9b3c5c44.js";const g="task",ks=async e=>!(await k.from(g).insert(e)).error,z=async()=>(await k.from(g).select("*").order("id",{ascending:!1})).data,gs=async(e,o)=>!(await k.from(g).update(o).eq("id",e)).error,Ts=async e=>!(await k.from(g).delete().eq("id",e)).error,K=()=>{const e=q(),o=L(0),i=p(()=>o.value==0?e.tasks.filter(t=>!t.is_completed):o.value==1?e.tasks.filter(t=>t.is_completed):e.tasks),n=p(()=>e.tasks.filter(c=>c.is_completed).length),r=p(()=>e.tasks.length),l=p(()=>{const t=n.value/r.value;return t===1?"Felicidades!! has completado todas las tareas":t>.5?"Ya queda poco para completar las tareas":"Todavia quedan tareas que completar"}),d=p(()=>{const t=n.value/r.value;return t===1?"has-text-success":t>.5?"has-text-primary":""});return{refreshTasks:async()=>{const t=await z();e.setTask(t)},completed:n,totalTasks:r,tagline:l,statusColor:d,tasks:i,filter:o}};const P=e=>(C("data-v-92da4c34"),e=e(),$(),e),U=P(()=>s("div",{class:"has-text-weight-bold"}," TASK APP ",-1)),Y={class:"end"},G={class:"card__toggle"},H=P(()=>s("i",{class:"fa-solid fa-right-from-bracket"},null,-1)),J=[H],Q={__name:"Navbar",setup(e){const o=N(),i=V(),n=E();O(()=>n.isLight,l=>{n.setTheme()});const r=async()=>{await j()&&(i.logout(),o.push({name:"login"}))};return(l,d)=>(f(),v("nav",null,[U,s("div",Y,[s("div",G,[D(s("input",{"onUpdate:modelValue":d[0]||(d[0]=m=>a(n).isLight=m),id:"themeSwitcher",class:"ThemeToggle",type:"checkbox",checked:""},null,512),[[R,a(n).isLight]])]),s("span",{onClick:r,class:"icon is-clickable"},J)])]))}},W=I(Q,[["__scopeId","data-v-92da4c34"]]);const y=e=>(C("data-v-87573ecd"),e=e(),$(),e),X={class:"header-container p-4 mb-2"},Z={class:"container"},ss={class:"title has-text-centered"},es={class:"mb-5"},ts=["value","max"],as={class:"tabs is-toggle is-toggle-rounded is-centered"},os=y(()=>s("a",null,[s("span",{class:"icon is-small"},[s("i",{class:"fa-regular fa-circle-check"})]),s("span",null,"Pendientes")],-1)),ns=[os],rs=y(()=>s("a",null,[s("span",{class:"icon is-small"},[s("i",{class:"fa-solid fa-circle-check"})]),s("span",null,"Completadas")],-1)),cs=[rs],ls=y(()=>s("a",null,[s("span",{class:"icon is-small"},[s("i",{class:"fa-regular fa-rectangle-list"})]),s("span",null,"Todas")],-1)),is=[ls],ds={class:"container"},us={class:"columns is-multiline"},_s={__name:"Tasks",setup(e){const o=w(()=>S(()=>import("./file_TaskCard.3c37cef2.js"),["assets/file_TaskCard.3c37cef2.js","assets/file_TaskCard.8fc63308.css","assets/file_index.285f0698.js","assets/file_index.a189d404.css","assets/file_useNotification.c03c1645.js","assets/file__plugin-vue_export-helper.e718e6fb.js","assets/file_useAuth.9b3c5c44.js"])),i=w(()=>S(()=>import("./file_NewTask.2eef2c03.js"),["assets/file_NewTask.2eef2c03.js","assets/file_NewTask.f171b69e.css","assets/file_index.285f0698.js","assets/file_index.a189d404.css","assets/file_useFormTask.ae3ed45d.js","assets/file_useNotification.c03c1645.js","assets/file__plugin-vue_export-helper.e718e6fb.js","assets/file_useAuth.9b3c5c44.js"])),{refreshTasks:n,completed:r,totalTasks:l,tagline:d,statusColor:m,tasks:t,filter:c}=K(),{guardRoute:A}=M();return B(()=>{A(),n()}),(ms,u)=>(f(),v(x,null,[T(W),s("section",null,[s("div",X,[s("div",Z,[s("h1",ss,"Progreso tareas ("+b(a(r))+"/"+b(a(l))+")",1),s("div",es,[s("progress",{class:"progress is-primary",value:a(r),max:a(l)},null,8,ts)]),s("h2",{class:h(["subtitle has-text-centered",[a(m)]])},b(a(d)),3),s("div",as,[s("ul",null,[s("li",{class:h({"is-active":a(c)==0}),onClick:u[0]||(u[0]=_=>c.value=0)},ns,2),s("li",{class:h({"is-active":a(c)==1}),onClick:u[1]||(u[1]=_=>c.value=1)},cs,2),s("li",{class:h({"is-active":a(c)==2}),onClick:u[2]||(u[2]=_=>c.value=2)},is,2)])])])]),s("div",ds,[s("div",us,[(f(!0),v(x,null,F(a(t),_=>(f(),v("div",{class:"column is-4-tablet is-3-desktop is-2-landscape",key:_.id},[T(a(o),{task:_},null,8,["task"])]))),128))])])]),T(a(i))],64))}},ps=I(_s,[["__scopeId","data-v-87573ecd"]]),bs=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"}));export{bs as T,gs as a,Ts as d,ks as n,K as u};
